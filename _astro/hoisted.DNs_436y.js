import{a as c,H as l}from"./plugin.D2D7AgCA.js";import{d as f}from"./scene-with-phaser-wind.BlrV0HLv.js";import"./PhaserGame.astro_astro_type_script_index_0_lang.CdtLd1RY.js";import"./webfontloader.2XYdQRer.js";class h extends Phaser.Scene{scoreText;healthText;constructor(){super("global-state-scene-1")}create(){this.cameras.main.setBackgroundColor(2899536),this.add.text(400,50,"Scene 1 - Global State Demo",{color:"#ffffff",align:"center",fontSize:"24px"}).setOrigin(.5,.5);const[e,o]=useGlobalState("score",0),[t,r]=useGlobalState("health",100);this.scoreText=this.add.text(400,150,`Score: ${e}`,{color:"#ffffff",align:"center",fontSize:"18px"}).setOrigin(.5,.5),this.healthText=this.add.text(400,180,`Health: ${t}`,{color:"#ffffff",align:"center",fontSize:"18px"}).setOrigin(.5,.5);const a=this.add.rectangle(300,250,120,40,2600544);a.setInteractive(),a.on("pointerdown",()=>{o(e+10),this.scoreText?.setText(`Score: ${e+10}`)}),this.add.text(300,250,"Add Score",{color:"#ffffff",align:"center",fontSize:"14px"}).setOrigin(.5,.5);const n=this.add.rectangle(500,250,120,40,15158332);n.setInteractive(),n.on("pointerdown",()=>{r(t-10),this.healthText?.setText(`Health: ${t-10}`)}),this.add.text(500,250,"Lose Health",{color:"#ffffff",align:"center",fontSize:"14px"}).setOrigin(.5,.5);const i=this.add.rectangle(400,350,150,40,3447003);i.setInteractive(),i.on("pointerdown",()=>{this.scene.start("global-state-scene-2")}),this.add.text(400,350,"Switch to Scene 2",{color:"#ffffff",align:"center",fontSize:"14px"}).setOrigin(.5,.5),this.add.text(400,450,"Click buttons to modify global state, then switch scenes",{color:"#bdc3c7",align:"center",fontSize:"14px"}).setOrigin(.5,.5)}}class d extends Phaser.Scene{constructor(){super("global-state-scene-2")}create(){this.cameras.main.setBackgroundColor(9323693),this.add.text(400,50,"Scene 2 - Global State Persists",{color:"#ffffff",align:"center",fontSize:"24px"}).setOrigin(.5,.5);const[e]=useGlobalState("score",0),[o]=useGlobalState("health",100);this.add.text(400,150,`Score: ${e}`,{color:"#ffffff",align:"center",fontSize:"18px"}).setOrigin(.5,.5),this.add.text(400,180,`Health: ${o}`,{color:"#ffffff",align:"center",fontSize:"18px"}).setOrigin(.5,.5);const t=this.add.rectangle(400,300,150,40,3447003);t.setInteractive(),t.on("pointerdown",()=>{this.scene.start("global-state-scene-1")}),this.add.text(400,300,"Back to Scene 1",{color:"#ffffff",align:"center",fontSize:"14px"}).setOrigin(.5,.5),this.add.text(400,400,"Global state persists across scenes!",{color:"#bdc3c7",align:"center",fontSize:"14px"}).setOrigin(.5,.5)}}document.addEventListener("DOMContentLoaded",()=>{const s=window.__phaserGameConfigs?.["phaser-hooks-global-state-demo"];if(s){const e=new Phaser.Game({...s,plugins:{global:[{key:c,plugin:l,mapping:c,start:!0,data:{theme:f}}]},scene:[h,d]});window.__phaserGames||(window.__phaserGames={}),window.__phaserGames["phaser-hooks-global-state-demo"]=e}});
