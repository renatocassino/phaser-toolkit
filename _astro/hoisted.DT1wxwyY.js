import{P as w}from"./PhaserGame.astro_astro_type_script_index_0_lang.BEm-lufV.js";import{C as u}from"./scene-with-phaser-wind.DlXQxYJt.js";import{c as B}from"./theme-manager.SbF4zu1s.js";import{e as f,g as k,T as y,a as p,H as _}from"./plugin.gUYo12OL.js";import{l as C}from"./load-fonts.-jl_UTx2.js";import{S as R}from"./scene-with-hudini.DwPz9Phj.js";import"./hoisted.B7maJBHf.js";import"./icon-text.Cik5XBWK.js";import"./load-fonts.C_vmQx7d.js";const l={click:60,hover:100},g=1.05,b=.95,P=2,E=3,m=E*2,v=2;class I extends f{backgroundSprite;whiteBorderSprite;buttonText;pw;fontSizePx;paddingPx;borderRadiusPx;colorButton;textColorValue;fontFamily;textValue;constructor({scene:t,x:e,y:r,text:o,fontSize:s="lg",font:i,color:h="blue-500",textColor:n="white",borderRadius:c="md",padding:a="4",onClick:d}){super({scene:t,x:e,y:r}),this.pw=k(t),this.textValue=o,this.fontSizePx=typeof s=="number"?s:this.pw.fontSize.px(s??"md"),this.paddingPx=typeof a=="number"?a:this.pw.spacing.px(a??"4"),this.borderRadiusPx=typeof c=="number"?c:this.pw.radius.px(c??"md"),this.colorButton=u.rgb(h),this.textColorValue=u.rgb(n),this.fontFamily=i?typeof i=="string"?i:this.pw.font.family(i):"Bebas Neue",this.createButtonText(t),this.createWhiteBorderSprite(t),this.createBackgroundSprite(t),this.setupContainer(),this.setupInteractivity(d),this.hitArea=this.backgroundSprite}setText(t){return this.textValue=t,this.buttonText.setText(t),this.regenerateSprites(),this}setFontSize(t){return this.fontSizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"md"),this.buttonText.setFontSize(this.fontSizePx),this.regenerateSprites(),this}setFont(t){return this.fontFamily=typeof t=="string"?t:this.pw.font.family(t??"primary"),this.buttonText.setFontFamily(this.fontFamily),this.regenerateSprites(),this}setColor(t){return this.colorButton=u.rgb(t),this.regenerateSprites(),this}setTextColor(t){return this.textColorValue=u.rgb(t),this.buttonText.setColor(this.textColorValue),this}setBorderRadius(t){return this.borderRadiusPx=typeof t=="number"?t:this.pw.radius.px(t??"md"),this.regenerateSprites(),this}setPadding(t){return this.paddingPx=typeof t=="number"?t:this.pw.spacing.px(t??"4"),this.regenerateSprites(),this}createButtonText(t){this.buttonText=new y({scene:t,x:0,y:0,text:this.textValue,size:this.fontSizePx,fontFamily:this.fontFamily}),this.buttonText.setOrigin(.5,.5)}createWhiteBorderSprite(t){const e=this.createWhiteBorderTexture(t);this.whiteBorderSprite=t.add.sprite(0,0,e),this.whiteBorderSprite.setOrigin(.5,.5)}createBackgroundSprite(t){const e=this.createBackgroundTexture(t);this.backgroundSprite=t.add.sprite(0,0,e),this.backgroundSprite.setOrigin(.5,.5)}regenerateSprites(){this.buttonText.setText(this.textValue);const t=this.createWhiteBorderTexture(this.scene),e=this.createBackgroundTexture(this.scene);this.whiteBorderSprite.setTexture(t),this.backgroundSprite.setTexture(e)}getButtonDimensions(){const t=this.buttonText.getBounds(),e=t.width+this.paddingPx*2,r=t.height+this.paddingPx*2;return{width:e,height:r}}createWhiteBorderTexture(t){const{width:e,height:r}=this.getButtonDimensions(),o=`flatTextButton_whiteBorder_${this.borderRadiusPx}_${e}_${r}`,s=e+m,i=r+m,h=8,n=s+h*2,c=i+h*2,a=t.add.graphics(),d=Math.floor(Math.min(s/2,i/2)),S=Math.min(this.borderRadiusPx+v,d),T=Math.max(0,S);return a.fillStyle(u.hex("white"),1),a.fillRoundedRect(h,h,s,i,T),a.generateTexture(o,n,c),a.destroy(),o}createBackgroundTexture(t){const{width:e,height:r}=this.getButtonDimensions(),o=`flatTextButton_bg_${this.colorButton}_${this.borderRadiusPx}_${e}_${r}`,s=8,i=e+s*2,h=r+s*2,n=t.add.graphics(),c=Math.floor(Math.min(e/2,r/2)),a=Math.min(this.borderRadiusPx,c),d=Math.max(0,a);return n.fillStyle(u.hex(this.colorButton),1),n.fillRoundedRect(s,s,e,r,d),n.lineStyle(P,u.hex("black"),1),n.strokeRoundedRect(s,s,e,r,d),n.generateTexture(o,i,h),n.destroy(),o}setupContainer(){this.add([this.whiteBorderSprite,this.backgroundSprite,this.buttonText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this,duration:l.hover,scaleX:g,scaleY:g,ease:"Back.easeOut"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this,duration:l.hover,scaleX:1,scaleY:1,ease:"Back.easeOut"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.whiteBorderSprite,this.backgroundSprite,this.buttonText],scaleX:b,scaleY:b,duration:l.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.whiteBorderSprite,this.backgroundSprite,this.buttonText],scaleX:1,scaleY:1,duration:l.click,ease:"Linear"}),t?.()})}get interactive(){const{on:t,off:e,setInteractive:r,once:o}=this.backgroundSprite;return{on:t.bind(this.backgroundSprite),off:e.bind(this.backgroundSprite),setInteractive:r.bind(this.backgroundSprite),once:o.bind(this.backgroundSprite)}}}const F=B({});class O extends R{buttons=[];constructor(){super("flat-text-button-demo")}create(){const{pw:t}=this.hudini;this.cameras.main.setBackgroundColor(t.color.slate(900)),this.add.text(this.cameras.main.centerX,80,"Flat Text Button Examples",{color:t.color.slate(200),align:"center",fontSize:"32px"}).setOrigin(.5,.5);const e=[{text:"Primary",bg:"blue-500",textColor:"white"},{text:"Secondary",bg:"gray-200",textColor:"gray-800"},{text:"Success",bg:"green-500",textColor:"white"},{text:"Warning",bg:"yellow-500",textColor:"black"},{text:"Danger",bg:"red-500",textColor:"white"},{text:"Custom",bg:"#3B82F6",textColor:"white"}];let r=150;e.forEach((o,s)=>{const i=new I({scene:this,x:this.cameras.main.centerX,y:r,text:o.text,color:o.bg,textColor:o.textColor,borderRadius:"md",padding:"4"});r+=60,i.setInteractive(),i.on("pointerdown",()=>{console.log(`${o.text} button clicked!`),i.setScale(.95)}),i.on("pointerup",()=>{i.setScale(1)}),i.on("pointerover",()=>{i.setScale(1.05)}),i.on("pointerout",()=>{i.setScale(1)}),this.add.existing(i),this.buttons.push(i)}),this.add.text(this.cameras.main.centerX,500,"Click and hover over the buttons to see interactions",{color:t.color.slate(400),align:"center",fontSize:"16px"}).setOrigin(.5,.5)}}document.addEventListener("DOMContentLoaded",()=>{const x=window.gameContainer;x&&C().then(()=>{const t=new w.Game({...x,scene:[O],plugins:{global:[{key:p,plugin:_,mapping:p,data:{theme:F}}]}});window.__phaserGames||(window.__phaserGames={}),window.__phaserGames["hudini-flat-text-button-demo"]=t})});
