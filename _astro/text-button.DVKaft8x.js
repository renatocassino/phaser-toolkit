import{C as c}from"./scene-with-phaser-wind.DlXQxYJt.js";import{e as C,g as y,f as l,T as k}from"./plugin.gUYo12OL.js";const x={click:60,hover:100},p=1.05,g=.95,T=-100,B=100,S=30,b=-30,w=2,E=3,R=E*2,f=2;class F extends C{backgroundSprite;whiteBorderSprite;buttonText;pw;fontSizePx;paddingPx;borderRadiusPx;colorButton;lightColorButton;darkColorButton;textColorValue;fontFamily;textValue;constructor({scene:t,x:e,y:r,text:o,fontSize:i="lg",font:n,color:s="blue-500",textColor:a="white",borderRadius:u="md",padding:h="4",onClick:d}){super({scene:t,x:e,y:r}),this.pw=y(t),this.textValue=o,this.fontSizePx=typeof i=="number"?i:this.pw.fontSize.px(i??"md"),this.paddingPx=typeof h=="number"?h:this.pw.spacing.px(h??"4"),this.borderRadiusPx=typeof u=="number"?u:this.pw.radius.px(u??"md"),this.colorButton=c.rgb(s),this.lightColorButton=l(s,T,S),this.darkColorButton=l(s,B,b),this.textColorValue=c.rgb(a),this.fontFamily=n?typeof n=="string"?n:this.pw.font.family(n):"Bebas Neue",this.createButtonText(t),this.createWhiteBorderSprite(t),this.createBackgroundSprite(t),this.setupContainer(),this.setupInteractivity(d),this.hitArea=this.backgroundSprite}setText(t){return this.textValue=t,this.buttonText.setText(t),this.regenerateSprites(),this}setFontSize(t){return this.fontSizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"md"),this.buttonText.setFontSize(this.fontSizePx),this.regenerateSprites(),this}setFont(t){return this.fontFamily=typeof t=="string"?t:this.pw.font.family(t??"primary"),this.buttonText.setFontFamily(this.fontFamily),this.regenerateSprites(),this}setColor(t){return this.colorButton=c.rgb(t),this.lightColorButton=l(t,T,S),this.darkColorButton=l(t,B,b),this.regenerateSprites(),this}setTextColor(t){return this.textColorValue=c.rgb(t),this.buttonText.setColor(this.textColorValue),this}setBorderRadius(t){return this.borderRadiusPx=typeof t=="number"?t:this.pw.radius.px(t??"md"),this.regenerateSprites(),this}setPadding(t){return this.paddingPx=typeof t=="number"?t:this.pw.spacing.px(t??"4"),this.regenerateSprites(),this}createButtonText(t){this.buttonText=new k({scene:t,x:0,y:0,text:this.textValue,size:this.fontSizePx,fontFamily:this.fontFamily}),this.buttonText.setOrigin(.5,.5)}createWhiteBorderSprite(t){const e=this.createWhiteBorderTexture(t);this.whiteBorderSprite=t.add.sprite(0,0,e),this.whiteBorderSprite.setOrigin(.5,.5)}createBackgroundSprite(t){const e=this.createBackgroundTexture(t);this.backgroundSprite=t.add.sprite(0,0,e),this.backgroundSprite.setOrigin(.5,.5)}regenerateSprites(){this.buttonText.setText(this.textValue);const t=this.createWhiteBorderTexture(this.scene),e=this.createBackgroundTexture(this.scene);this.whiteBorderSprite.setTexture(t),this.backgroundSprite.setTexture(e)}getButtonDimensions(){const t=this.buttonText.getBounds(),e=t.width+this.paddingPx*2,r=t.height+this.paddingPx*2;return{width:e,height:r}}createWhiteBorderTexture(t){const{width:e,height:r}=this.getButtonDimensions(),o=`textButton_whiteBorder_${this.borderRadiusPx}_${e}_${r}`,i=e+R,n=r+R,s=8,a=i+s*2,u=n+s*2,h=t.add.graphics(),d=Math.floor(Math.min(i/2,n/2)),m=Math.min(this.borderRadiusPx+f,d),_=Math.max(0,m);return h.fillStyle(c.hex("white"),1),h.fillRoundedRect(s,s,i,n,_),h.generateTexture(o,a,u),h.destroy(),o}createBackgroundTexture(t){const{width:e,height:r}=this.getButtonDimensions(),o=`textButton_bg_${this.colorButton}_${this.borderRadiusPx}_${e}_${r}`,i=8,n=e+i*2,s=r+i*2,a=t.add.graphics(),u=Math.floor(Math.min(e/2,r/2)),h=Math.min(this.borderRadiusPx,u),d=Math.max(0,h);return this.drawCssColorGradient(a,i,e,r,d),a.generateTexture(o,n,s),a.destroy(),o}drawCssColorGradient(t,e,r,o,i){t.fillStyle(c.hex(this.colorButton),1),t.fillRoundedRect(e,e,r,o,i);const s=o*.15,a=Math.min(i,s/2);t.fillStyle(this.lightColorButton,1),t.fillRoundedRect(e,e,r,s,a);const u=Math.min(i,s/2);t.fillStyle(this.darkColorButton,1),t.fillRoundedRect(e,e+o-s,r,s,u),t.lineStyle(w,c.hex("black"),1),t.strokeRoundedRect(e,e,r,o,i)}setupContainer(){this.add([this.whiteBorderSprite,this.backgroundSprite,this.buttonText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this,duration:x.hover,scaleX:p,scaleY:p,ease:"Back.easeOut"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this,duration:x.hover,scaleX:1,scaleY:1,ease:"Back.easeOut"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.whiteBorderSprite,this.backgroundSprite,this.buttonText],scaleX:g,scaleY:g,duration:x.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.whiteBorderSprite,this.backgroundSprite,this.buttonText],scaleX:1,scaleY:1,duration:x.click,ease:"Linear"}),t?.()})}}export{F as T};
