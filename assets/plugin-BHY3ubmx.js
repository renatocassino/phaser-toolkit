import{p as S,C as g,b as y,c as H,e as P,d as L}from"./scene-with-phaser-wind-CFjA4exm.js";import{I as W}from"./webfontloader-C12iJez1.js";const I=8,m=d=>{const t=d;if(typeof t.displayWidth=="number")return t.displayWidth;if(typeof t.width=="number")return t.width;const e=t.getBounds?.();return e?e.width:0},w=d=>{const t=d;if(typeof t.displayHeight=="number")return t.displayHeight;if(typeof t.height=="number")return t.height;const e=t.getBounds?.();return e?e.height:0},E=d=>{const t=m(d),e=w(d),i=d;let r=typeof i.originX=="number"?i.originX:void 0,h=typeof i.originY=="number"?i.originY:void 0;return r===void 0&&typeof i.displayOriginX=="number"&&t>0&&(r=i.displayOriginX/t),h===void 0&&typeof i.displayOriginY=="number"&&e>0&&(h=i.displayOriginY/e),{x:r??.5,y:h??.5}};class F extends S.GameObjects.Container{gap;align;verticalOrigin;constructor({scene:t,x:e,y:i,gap:r=I,align:h="center",children:l=[],verticalOrigin:s="top"}){super(t,e,i),this.gap=r,this.align=h,this.verticalOrigin=s,l.length>0&&this.add(l),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(s=>({child:s,width:this.getDisplayWidth(s),height:this.getDisplayHeight(s),origin:this.getNormalizedOrigin(s)})),i=e.reduce((s,o)=>Math.max(s,o.width),0),r=e.reduce((s,o)=>s+o.height,0)+this.gap*(e.length-1);let l=this.verticalOrigin==="top"?0:this.verticalOrigin==="center"?-r/2:-r;for(const{child:s,width:o,height:n,origin:a}of e){let c=0;this.align==="left"?c=-i/2+a.x*o:this.align==="right"?c=i/2-(1-a.x)*o:c=(a.x-.5)*o;const u=l+a.y*n;s.setPosition(c,u),l+=n+this.gap}this.setSize(i,r)}getDisplayWidth(t){return m(t)}getDisplayHeight(t){return w(t)}getNormalizedOrigin(t){return E(t)}}const Y=d=>d.pw,f={click:100,hover:150},b=2.2,p=1.1,v=4,k=.1,C=.9,_=.7,N=1.07,O=2,A=.9,R=.7,x=.25;class X extends S.GameObjects.Container{backgroundSprite;shadowSprite;iconText;pw;shape="circle";baseColor;sizePx;constructor({scene:t,x:e,y:i,icon:r,size:h,color:l,onClick:s,shape:o}){super(t,e,i),this.pw=Y(t),this.shape=o??"circle";const n=typeof h=="number"?h:this.pw.fontSize.px(h??"md"),a=l??"gray";this.sizePx=n,this.baseColor=a,this.createShadowSprite(t,n,a,this.shape),this.createBackgroundSprite(t,n,a,this.shape),this.createIconText(t,r,n,a),this.setupContainer(),this.setupInteractivity(s)}setShape(t){if(this.shape===t)return this;this.shape=t;const e=this.createShadowTexture(this.scene,this.sizePx,this.baseColor,this.shape),i=this.createBackgroundTexture(this.scene,this.sizePx,this.baseColor,this.shape);return this.shadowSprite.setTexture(e),this.backgroundSprite.setTexture(i),this}createShadowSprite(t,e,i,r){const h=this.createShadowTexture(t,e,i,r);this.shadowSprite=t.add.sprite(1,v,h),this.shadowSprite.setOrigin(.5,.5)}createShadowTexture(t,e,i,r){const h=`iconButton_shadow_${r}_${i}_${e}`,l=e*b,s=e*p,o=e*p,n=t.add.graphics();if(r==="circle")n.fillStyle(g.hex("black"),k),n.fillCircle(s+1,o,e*p),n.fillStyle(g.hex(`${i}-900`),C),n.fillCircle(s,o-O,e);else{const a=e*2*p,c=e*2,u=a*x,T=c*x;n.fillStyle(g.hex("black"),k),n.fillRoundedRect(s+1-a/2,o-a/2,a,a,u),n.fillStyle(g.hex(`${i}-900`),C),n.fillRoundedRect(s-c/2,o-O-c/2,c,c,T)}return n.generateTexture(h,l,l),n.destroy(),h}createBackgroundSprite(t,e,i,r){const h=this.createBackgroundTexture(t,e,i,r);this.backgroundSprite=t.add.sprite(1,0,h),this.backgroundSprite.setOrigin(.5,.5)}createBackgroundTexture(t,e,i,r){const h=`iconButton_${r}_${i}_${e}`,l=e*b,s=e*p,o=e*p,n=t.add.graphics();if(r==="circle")n.fillStyle(g.hex(`${i}-600`),1),n.fillCircle(s,o,e*A),n.fillStyle(g.hex(`${i}-500`),_),n.fillCircle(s,o,e*R);else{const a=e*2,c=a*A,u=a*R,T=c*x,D=u*x;n.fillStyle(g.hex(`${i}-600`),1),n.fillRoundedRect(s-c/2,o-c/2,c,c,T),n.fillStyle(g.hex(`${i}-500`),_),n.fillRoundedRect(s-u/2,o-u/2,u,u,D)}return n.generateTexture(h,l,l),n.destroy(),h}createIconText(t,e,i,r){this.iconText=new W({scene:t,x:1,y:1,icon:e,size:i,style:{color:g.rgb("white"),strokeThickness:3,stroke:g.rgb(`${r}-900`)}}),this.iconText.setFontStyle("900"),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.shadowSprite,this.backgroundSprite,this.iconText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this.iconText,scale:N,duration:f.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this.iconText,scale:1,duration:f.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:O,duration:f.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:0,duration:f.click,ease:"Linear"}),t?.()})}}class M extends S.GameObjects.Container{gap;align;horizontalOrigin;constructor({scene:t,x:e,y:i,gap:r=I,align:h="center",children:l=[],horizontalOrigin:s="center"}){super(t,e,i),this.gap=r,this.align=h,this.horizontalOrigin=s,l.length>0&&this.add(l),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(s=>({child:s,width:this.getDisplayWidth(s),height:this.getDisplayHeight(s),origin:this.getNormalizedOrigin(s)})),i=e.reduce((s,o)=>Math.max(s,o.height),0),r=e.reduce((s,o)=>s+o.width,0)+this.gap*(e.length-1);let l=this.horizontalOrigin==="left"?0:this.horizontalOrigin==="center"?-r/2:-r;for(const{child:s,width:o,height:n,origin:a}of e){let c=0;this.align==="top"?c=-i/2+a.y*n:this.align==="bottom"?c=i/2-(1-a.y)*n:c=(a.y-.5)*n;const u=l+a.x*o;s.setPosition(u,c),l+=o+this.gap}this.setSize(r,i)}getDisplayWidth(t){return m(t)}getDisplayHeight(t){return w(t)}getNormalizedOrigin(t){return E(t)}}const K="hudini";class z extends S.Plugins.BasePlugin{phaserWindMappingKey=y;constructor(t){super(t)}init({theme:t,darkMode:e=!1,phaserWindMappingKey:i=y}){if(this.phaserWindMappingKey=i,!this.pluginManager.get(y)){const r=t??(e?P:L);this.pluginManager.install(y,H,!0,i,{theme:r,darkMode:e})}}get pw(){return this.pluginManager.get(this.phaserWindMappingKey)}}export{F as C,K as H,X as I,M as R,z as a};
