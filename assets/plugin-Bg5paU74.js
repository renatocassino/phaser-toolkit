import{p as f,C as l,b as p,c as C,e as k,d as _}from"./scene-with-phaser-wind-CFjA4exm.js";import{I as A}from"./webfontloader-C12iJez1.js";const w=8,S=h=>{const t=h;if(typeof t.displayWidth=="number")return t.displayWidth;if(typeof t.width=="number")return t.width;const e=t.getBounds?.();return e?e.width:0},O=h=>{const t=h;if(typeof t.displayHeight=="number")return t.displayHeight;if(typeof t.height=="number")return t.height;const e=t.getBounds?.();return e?e.height:0},b=h=>{const t=S(h),e=O(h),i=h;let r=typeof i.originX=="number"?i.originX:void 0,o=typeof i.originY=="number"?i.originY:void 0;return r===void 0&&typeof i.displayOriginX=="number"&&t>0&&(r=i.displayOriginX/t),o===void 0&&typeof i.displayOriginY=="number"&&e>0&&(o=i.displayOriginY/e),{x:r??.5,y:o??.5}};class B extends f.GameObjects.Container{gap;align;verticalOrigin;constructor({scene:t,x:e,y:i,gap:r=w,align:o="center",children:a=[],verticalOrigin:n="top"}){super(t,e,i),this.gap=r,this.align=o,this.verticalOrigin=n,a.length>0&&this.add(a),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(n=>({child:n,width:this.getDisplayWidth(n),height:this.getDisplayHeight(n),origin:this.getNormalizedOrigin(n)})),i=e.reduce((n,s)=>Math.max(n,s.width),0),r=e.reduce((n,s)=>n+s.height,0)+this.gap*(e.length-1);let a=this.verticalOrigin==="top"?0:this.verticalOrigin==="center"?-r/2:-r;for(const{child:n,width:s,height:c,origin:g}of e){let d=0;this.align==="left"?d=-i/2+g.x*s:this.align==="right"?d=i/2-(1-g.x)*s:d=(g.x-.5)*s;const x=a+g.y*c;n.setPosition(d,x),a+=c+this.gap}this.setSize(i,r)}getDisplayWidth(t){return S(t)}getDisplayHeight(t){return O(t)}getNormalizedOrigin(t){return b(t)}}const E=h=>h.pw,y={click:100,hover:150},T=2.2,u=1.1,I=4,H=.1,D=.9,L=.7,W=1.07,m=2,Y=.9,v=.7;class R extends f.GameObjects.Container{backgroundSprite;shadowSprite;iconText;pw;constructor({scene:t,x:e,y:i,icon:r,size:o,color:a,onClick:n}){super(t,e,i),this.pw=E(t);const s=typeof o=="number"?o:this.pw.fontSize.px(o??"md"),c=a??"gray";this.createShadowSprite(t,s,c),this.createBackgroundSprite(t,s,c),this.createIconText(t,r,s,c),this.setupContainer(),this.setupInteractivity(n)}createShadowSprite(t,e,i){const r=this.createShadowTexture(t,e,i);this.shadowSprite=t.add.sprite(1,I,r),this.shadowSprite.setOrigin(.5,.5)}createShadowTexture(t,e,i){const r=`iconButton_shadow_${i}_${e}`,o=e*T,a=e*u,n=e*u,s=t.add.graphics();return s.fillStyle(l.hex("black"),H),s.fillCircle(a+1,n,e*u),s.fillStyle(l.hex(`${i}-900`),D),s.fillCircle(a,n-m,e),s.generateTexture(r,o,o),s.destroy(),r}createBackgroundSprite(t,e,i){const r=this.createBackgroundTexture(t,e,i);this.backgroundSprite=t.add.sprite(1,0,r),this.backgroundSprite.setOrigin(.5,.5)}createBackgroundTexture(t,e,i){const r=`iconButton_${i}_${e}`,o=e*T,a=e*u,n=e*u,s=t.add.graphics();return s.fillStyle(l.hex(`${i}-600`),1),s.fillCircle(a,n,e*Y),s.fillStyle(l.hex(`${i}-500`),L),s.fillCircle(a,n,e*v),s.generateTexture(r,o,o),s.destroy(),r}createIconText(t,e,i,r){this.iconText=new A({scene:t,x:1,y:1,icon:e,size:i,style:{color:l.rgb("white"),strokeThickness:3,stroke:l.rgb(`${r}-900`)}}),this.iconText.setFontStyle("900"),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.shadowSprite,this.backgroundSprite,this.iconText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this.iconText,scale:W,duration:y.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this.iconText,scale:1,duration:y.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:m,duration:y.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:0,duration:y.click,ease:"Linear"}),t?.()})}}class F extends f.GameObjects.Container{gap;align;horizontalOrigin;constructor({scene:t,x:e,y:i,gap:r=w,align:o="center",children:a=[],horizontalOrigin:n="center"}){super(t,e,i),this.gap=r,this.align=o,this.horizontalOrigin=n,a.length>0&&this.add(a),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(n=>({child:n,width:this.getDisplayWidth(n),height:this.getDisplayHeight(n),origin:this.getNormalizedOrigin(n)})),i=e.reduce((n,s)=>Math.max(n,s.height),0),r=e.reduce((n,s)=>n+s.width,0)+this.gap*(e.length-1);let a=this.horizontalOrigin==="left"?0:this.horizontalOrigin==="center"?-r/2:-r;for(const{child:n,width:s,height:c,origin:g}of e){let d=0;this.align==="top"?d=-i/2+g.y*c:this.align==="bottom"?d=i/2-(1-g.y)*c:d=(g.y-.5)*c;const x=a+g.x*s;n.setPosition(x,d),a+=s+this.gap}this.setSize(r,i)}getDisplayWidth(t){return S(t)}getDisplayHeight(t){return O(t)}getNormalizedOrigin(t){return b(t)}}const X="hudini";class M extends f.Plugins.BasePlugin{phaserWindMappingKey=p;constructor(t){super(t)}init({theme:t,darkMode:e=!1,phaserWindMappingKey:i=p}){if(this.phaserWindMappingKey=i,!this.pluginManager.get(p)){const r=t??(e?k:_);this.pluginManager.install(p,C,!0,i,{theme:r,darkMode:e})}}get pw(){return this.pluginManager.get(this.phaserWindMappingKey)}}export{B as C,X as H,R as I,F as R,M as a};
