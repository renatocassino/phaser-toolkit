import{I as T}from"./webfontloader-C9e8wMC_.js";import{p as x,C as c,a as u,b as k,c as w,d as _}from"./scene-with-phaser-wind-yYpAVwXm.js";const I=p=>p.pw,d={click:100,hover:150},l=2.2,h=1.1,y=4,E=.1,C=.9,O=.7,b=1.07,S=2,f=.9,A=.7;class P extends x.GameObjects.Container{backgroundSprite;shadowSprite;iconText;pw;constructor({scene:e,x:t,y:r,icon:n,size:s,color:o,onClick:a}){super(e,t,r),this.pw=I(e);const i=typeof s=="number"?s:this.pw.fontSize.px(s??"md"),g=o??"gray";this.createShadowSprite(e,i,g),this.createBackgroundSprite(e,i,g),this.createIconText(e,n,i,g),this.setupContainer(),this.setupInteractivity(a)}createShadowSprite(e,t,r){const n=this.createShadowTexture(e,t,r);this.shadowSprite=e.add.sprite(1,y,n),this.shadowSprite.setOrigin(.5,.5)}createShadowTexture(e,t,r){const n=`iconButton_shadow_${r}_${t}`,s=t*l,o=t*h,a=t*h,i=e.add.graphics();return i.fillStyle(c.hex("black"),E),i.fillCircle(o+1,a,t*h),i.fillStyle(c.hex(`${r}-900`),C),i.fillCircle(o,a-S,t),i.generateTexture(n,s,s),i.destroy(),n}createBackgroundSprite(e,t,r){const n=this.createBackgroundTexture(e,t,r);this.backgroundSprite=e.add.sprite(1,0,n),this.backgroundSprite.setOrigin(.5,.5)}createBackgroundTexture(e,t,r){const n=`iconButton_${r}_${t}`,s=t*l,o=t*h,a=t*h,i=e.add.graphics();return i.fillStyle(c.hex(`${r}-600`),1),i.fillCircle(o,a,t*f),i.fillStyle(c.hex(`${r}-500`),O),i.fillCircle(o,a,t*A),i.generateTexture(n,s,s),i.destroy(),n}createIconText(e,t,r,n){this.iconText=new T({scene:e,x:1,y:1,icon:t,size:r,style:{color:c.rgb("white"),strokeThickness:3,stroke:c.rgb(`${n}-900`)}}),this.iconText.setFontStyle("900"),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.shadowSprite,this.backgroundSprite,this.iconText])}setupInteractivity(e){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this.iconText,scale:b,duration:d.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this.iconText,scale:1,duration:d.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:S,duration:d.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:0,duration:d.click,ease:"Linear"}),e?.()})}}const N="hudini";class Y extends x.Plugins.BasePlugin{phaserWindMappingKey=u;constructor(e){super(e)}init({theme:e,darkMode:t=!1,phaserWindMappingKey:r=u}){if(this.phaserWindMappingKey=r,!this.pluginManager.get(u)){const n=e??(t?w:_);this.pluginManager.install(u,k,!0,r,{theme:n,darkMode:t})}}get pw(){return this.pluginManager.get(this.phaserWindMappingKey)}}export{N as H,P as I,Y as a};
