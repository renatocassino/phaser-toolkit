import{I as C}from"./webfontloader-CriEp546.js";import{p as l,C as d,e as b,f as M,h as W,d as v}from"./create-game-C3tE16Ml.js";const x=g=>g.pw,z="spinner",$="blue",G=2,F=1e3;class nt extends l.GameObjects.Container{iconText;pw;rotationSpeed;isSpinning=!0;constructor({scene:t,x:e,y:i,icon:s=z,size:o,color:a=$,rotationsPerSecond:r=G}){super(t,e,i),this.pw=x(t),this.rotationSpeed=r;const n=typeof o=="number"?o:this.pw.fontSize.px(o??"md");this.createIconText(t,s,n,a),this.setupContainer(),this.startSpinning()}start(){return this.isSpinning||(this.isSpinning=!0,this.startSpinning()),this}stop(){return this.isSpinning=!1,this.scene.tweens.killTweensOf(this.iconText),this}setRotationsPerSecond(t){return this.rotationSpeed=t,this.isSpinning&&(this.scene.tweens.killTweensOf(this.iconText),this.startSpinning()),this}setIcon(t){return this.iconText.setIcon(t),this}setColor(t){return this.iconText.setStyle({color:this.pw.color.rgb(t)}),this}setSize(t){const e=typeof t=="number"?t:this.pw.fontSize.px(t);return this.iconText.setFontSize(`${e}px`),this}get spinning(){return this.isSpinning}createIconText(t,e,i,s){this.iconText=new C({scene:t,x:0,y:0,icon:e,size:i,style:{color:d.rgb(s)}}),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.iconText])}startSpinning(){if(!this.isSpinning)return;const t=F/this.rotationSpeed;this.scene.tweens.add({targets:this.iconText,rotation:Math.PI*2,duration:t,ease:"Linear",repeat:-1,onComplete:()=>{this.iconText.rotation=0}})}destroy(){this.stop(),super.destroy()}}const E=8,P=g=>{const t=g;if(typeof t.displayWidth=="number")return t.displayWidth;if(typeof t.width=="number")return t.width;const e=t.getBounds?.();return e?e.width:0},O=g=>{const t=g;if(typeof t.displayHeight=="number")return t.displayHeight;if(typeof t.height=="number")return t.height;const e=t.getBounds?.();return e?e.height:0},D=g=>{const t=P(g),e=O(g),i=g;let s=typeof i.originX=="number"?i.originX:void 0,o=typeof i.originY=="number"?i.originY:void 0;return s===void 0&&typeof i.displayOriginX=="number"&&t>0&&(s=i.displayOriginX/t),o===void 0&&typeof i.displayOriginY=="number"&&e>0&&(o=i.displayOriginY/e),{x:s??.5,y:o??.5}};class ot extends l.GameObjects.Container{gap;align;verticalOrigin;constructor({scene:t,x:e,y:i,gap:s=E,align:o="center",children:a=[],verticalOrigin:r="top"}){super(t,e,i),this.gap=s,this.align=o,this.verticalOrigin=r,a.length>0&&this.add(a),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(r=>({child:r,width:this.getDisplayWidth(r),height:this.getDisplayHeight(r),origin:this.getNormalizedOrigin(r)})),i=e.reduce((r,n)=>Math.max(r,n.width),0),s=e.reduce((r,n)=>r+n.height,0)+this.gap*(e.length-1);let a=this.verticalOrigin==="top"?0:this.verticalOrigin==="center"?-s/2:-s;for(const{child:r,width:n,height:h,origin:c}of e){let u=0;this.align==="left"?u=-i/2+c.x*n:this.align==="right"?u=i/2-(1-c.x)*n:u=(c.x-.5)*n;const p=a+c.y*h;r.setPosition(u,p),a+=h+this.gap}this.setSize(i,s)}getDisplayWidth(t){return P(t)}getDisplayHeight(t){return O(t)}getNormalizedOrigin(t){return D(t)}}const B={click:100},L=2,N=2.2,R=1.1;class at extends l.GameObjects.Container{backgroundSprite;iconText;pw;baseSizePx;borderRadiusPx;backgroundColorValue;iconColorValue;backgroundOpacityValue=1;iconOpacityValue=1;constructor({scene:t,x:e,y:i,icon:s,iconStyle:o="solid",size:a,backgroundColor:r="gray-600",iconColor:n="white",onClick:h,borderRadius:c="md",backgroundOpacity:u=1,iconOpacity:p=1}){super(t,e,i),this.pw=x(t),this.baseSizePx=typeof a=="number"?a:this.pw.fontSize.px(a??"md"),this.borderRadiusPx=typeof c=="number"?c:this.pw.radius.px(c??"md"),this.backgroundColorValue=d.rgb(r),this.iconColorValue=d.rgb(n),this.backgroundOpacityValue=u,this.iconOpacityValue=p,this.createBackgroundSprite(t),this.createIconText(t,s,o),this.setupContainer(),this.setupInteractivity(h)}setBackgroundColor(t){return this.backgroundColorValue=d.rgb(t),this.regenerateBackgroundTexture(),this}setIconColor(t){return this.iconColorValue=d.rgb(t),this.iconText.setColor(this.iconColorValue),this.iconText.setAlpha(this.iconOpacityValue),this}setBackgroundOpacity(t){return this.backgroundOpacityValue=Math.max(0,Math.min(1,t)),this.backgroundSprite.setAlpha(this.backgroundOpacityValue),this}setIconOpacity(t){return this.iconOpacityValue=Math.max(0,Math.min(1,t)),this.iconText.setAlpha(this.iconOpacityValue),this}setBorderRadius(t){const e=typeof t=="number"?t:this.pw.radius.px(t);return this.borderRadiusPx===e?this:(this.borderRadiusPx=e,this.regenerateBackgroundTexture(),this)}setIcon(t,e){return this.iconText.setIcon(t,e),this}setButtonSize(t){return this.baseSizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"md"),this.iconText.setFontSize(`${this.baseSizePx}px`),this.regenerateBackgroundTexture(),this}createBackgroundSprite(t){const e=this.createBackgroundTexture(t);this.backgroundSprite=t.add.sprite(0,0,e),this.backgroundSprite.setOrigin(.5,.5),this.backgroundSprite.setAlpha(this.backgroundOpacityValue)}regenerateBackgroundTexture(){const t=this.createBackgroundTexture(this.scene);this.backgroundSprite.setTexture(t),this.backgroundSprite.setAlpha(this.backgroundOpacityValue)}createBackgroundTexture(t){const e=this.baseSizePx,i=`flatIconButton_${this.backgroundColorValue}_${this.borderRadiusPx}_${e}`,s=e*N,o=e*R,a=e*R,r=t.add.graphics();r.fillStyle(d.hex(this.backgroundColorValue),1);const n=e*2,h=Math.min(this.borderRadiusPx,n/2);return r.fillRoundedRect(o-n/2,a-n/2,n,n,h),r.generateTexture(i,s,s),r.destroy(),i}createIconText(t,e,i){this.iconText=new C({scene:t,x:0,y:0,icon:e,size:this.baseSizePx,style:{color:this.iconColorValue,strokeThickness:0},iconStyle:i}),this.iconText.setAlpha(this.iconOpacityValue),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.backgroundSprite,this.iconText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:L,duration:B.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:0,duration:B.click,ease:"Linear"}),t?.()})}}const m={click:100,hover:150},I=2.2,S=1.1,Y=4,X=.1,K=.9,U=.7,j=1.07,V=2,q=.9,J=.7;class ht extends l.GameObjects.Container{backgroundSprite;shadowSprite;iconText;pw;baseColor;sizePx;borderRadiusPx;constructor({scene:t,x:e,y:i,icon:s,size:o,color:a,onClick:r,borderRadius:n}){super(t,e,i),this.pw=x(t);const h=typeof o=="number"?o:this.pw.fontSize.px(o??"md"),c=a??"gray";this.sizePx=h,this.baseColor=c,this.borderRadiusPx=typeof n=="number"?n:this.pw.radius.px(n??"full"),this.createShadowSprite(t,h,c,this.borderRadiusPx),this.createBackgroundSprite(t,h,c,this.borderRadiusPx),this.createIconText(t,s,h,c),this.setupContainer(),this.setupInteractivity(r)}setBorderRadius(t){const e=typeof t=="number"?t:this.pw.radius.px(t);if(this.borderRadiusPx===e)return this;this.borderRadiusPx=e;const i=this.createShadowTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx),s=this.createBackgroundTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx);return this.shadowSprite.setTexture(i),this.backgroundSprite.setTexture(s),this}setButtonSize(t){this.sizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"md"),this.iconText.setFontSize(`${this.sizePx}px`);const e=this.createShadowTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx),i=this.createBackgroundTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx);return this.shadowSprite.setTexture(e),this.backgroundSprite.setTexture(i),this}createShadowSprite(t,e,i,s){const o=this.createShadowTexture(t,e,i,s);this.shadowSprite=t.add.sprite(1,Y,o),this.shadowSprite.setOrigin(.5,.5)}createShadowTexture(t,e,i,s){const o=`iconButton_shadow_r${s}_${i}_${e}`,a=e*I,r=e*S,n=e*S,h=t.add.graphics(),c=e*2*S,u=e*2,p=Math.min(s,c/2),y=Math.min(s,u/2);return h.fillStyle(d.hex("black"),X),h.fillRoundedRect(r+1-c/2,n-c/2,c,c,p),h.fillStyle(d.hex(`${i}-900`),K),h.fillRoundedRect(r-u/2,n-V-u/2,u,u,y),h.generateTexture(o,a,a),h.destroy(),o}createBackgroundSprite(t,e,i,s){const o=this.createBackgroundTexture(t,e,i,s);this.backgroundSprite=t.add.sprite(1,0,o),this.backgroundSprite.setOrigin(.5,.5)}createBackgroundTexture(t,e,i,s){const o=`iconButton_r${s}_${i}_${e}`,a=e*I,r=e*S,n=e*S,h=t.add.graphics(),c=e*2,u=c*q,p=c*J,y=Math.min(s,u/2),H=Math.min(s,p/2);return h.fillStyle(d.hex(`${i}-600`),1),h.fillRoundedRect(r-u/2,n-u/2,u,u,y),h.fillStyle(d.hex(`${i}-500`),U),h.fillRoundedRect(r-p/2,n-p/2,p,p,H),h.generateTexture(o,a,a),h.destroy(),o}createIconText(t,e,i,s){this.iconText=new C({scene:t,x:1,y:1,icon:e,size:i,style:{color:d.rgb("white"),strokeThickness:3,stroke:d.rgb(`${s}-900`)}}),this.iconText.setFontStyle("900"),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.shadowSprite,this.backgroundSprite,this.iconText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this.iconText,scale:j,duration:m.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this.iconText,scale:1,duration:m.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:V,duration:m.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:0,duration:m.click,ease:"Linear"}),t?.()})}}const T=100,Q=1500;class ct extends l.GameObjects.Container{backgroundProgressBar;progressBar;pw;progressWidth;progressHeight;borderRadiusPx;backgroundColor;progressColor;currentProgress;isIndeterminate;indeterminateAnimation;indeterminateAnimationDuration;constructor({scene:t,x:e,y:i,width:s,height:o,backgroundColor:a="gray-200",progressColor:r="blue-500",borderRadius:n="default",progress:h=0,indeterminate:c=!1,indeterminateAnimationDuration:u=Q}){super(t,e,i),this.pw=x(t),this.progressWidth=s,this.progressHeight=o,this.backgroundColor=a,this.progressColor=r,this.currentProgress=Math.max(0,Math.min(T,h)),this.isIndeterminate=c,this.indeterminateAnimationDuration=u,this.borderRadiusPx=typeof n=="number"?n:this.pw.radius.px(n),this.createBackgroundSprite(),this.createProgressSprite(),this.setupContainer(),this.isIndeterminate?this.startIndeterminateAnimation():this.updateProgressBar()}setProgress(t,e=!0){if(this.isIndeterminate)return this;const i=Math.max(0,Math.min(T,t));if(this.currentProgress===i)return this;if(e){const s={value:this.currentProgress};this.scene.tweens.add({targets:s,value:i,duration:300,ease:"Power2",onUpdate:()=>{this.currentProgress=s.value,this.updateProgressBar()}})}else this.currentProgress=i,this.updateProgressBar();return this}getProgress(){return this.currentProgress}setIndeterminate(t){return this.isIndeterminate===t?this:(this.isIndeterminate=t,this.isIndeterminate?(this.stopIndeterminateAnimation(),this.startIndeterminateAnimation()):(this.stopIndeterminateAnimation(),this.updateProgressBar()),this)}setBorderRadius(t){const e=typeof t=="number"?t:this.pw.radius.px(t);return this.borderRadiusPx===e?this:(this.borderRadiusPx=e,this.recreateSprites(),this)}setBackgroundColor(t){return this.backgroundColor===t?this:(this.backgroundColor=t,this.recreateSprites(),this)}setProgressColor(t){return this.progressColor===t?this:(this.progressColor=t,this.recreateSprites(),this)}destroy(){this.stopIndeterminateAnimation(),super.destroy()}createBackgroundSprite(){const t=this.scene.add.graphics();t.fillStyle(d.hex(this.backgroundColor),1),t.fillRoundedRect(-this.progressWidth/2,-this.progressHeight/2,this.progressWidth,this.progressHeight,this.getEffectiveBorderRadius()),this.backgroundProgressBar=t}createProgressSprite(){const t=this.scene.add.graphics();t.fillStyle(d.hex(this.progressColor),1),t.fillRoundedRect(-this.progressWidth/2,-this.progressHeight/2,this.progressWidth,this.progressHeight,this.getEffectiveBorderRadius()),this.progressBar=t}setupContainer(){this.add([this.backgroundProgressBar,this.progressBar])}calculateProgressDimensions(){const t=this.progressWidth*this.currentProgress/T,e=(t-this.progressWidth)/2;return{progressWidth:t,leftOffset:e}}updateProgressBar(t=!1){if(this.isIndeterminate&&!t)return;const{progressWidth:e,leftOffset:i}=this.calculateProgressDimensions();this.progressBar.setScale(e/this.progressWidth,1),this.progressBar.setX(i)}startIndeterminateAnimation(){if(!this.isIndeterminate)return;this.currentProgress=40,this.updateProgressBar(!0);const{progressWidth:t}=this.calculateProgressDimensions(),e=this.progressWidth/2-t/2,i=-(this.progressWidth/2)+t/2;this.progressBar.setX(i),this.indeterminateAnimation=this.scene.tweens.add({targets:this.progressBar,x:e,duration:this.indeterminateAnimationDuration,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}stopIndeterminateAnimation(){this.indeterminateAnimation&&(this.indeterminateAnimation.destroy(),this.indeterminateAnimation=void 0)}recreateSprites(){this.remove([this.backgroundProgressBar,this.progressBar]),this.backgroundProgressBar.destroy(),this.progressBar.destroy(),this.createBackgroundSprite(),this.createProgressSprite(),this.setupContainer(),this.isIndeterminate?this.startIndeterminateAnimation():this.updateProgressBar()}getEffectiveBorderRadius(){const t=Math.min(this.progressWidth,this.progressHeight)/2;return Math.min(this.borderRadiusPx,t)}}class ut extends l.GameObjects.Container{gap;align;horizontalOrigin;constructor({scene:t,x:e,y:i,gap:s=E,align:o="center",children:a=[],horizontalOrigin:r="center"}){super(t,e,i),this.gap=s,this.align=o,this.horizontalOrigin=r,a.length>0&&this.add(a),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(r=>({child:r,width:this.getDisplayWidth(r),height:this.getDisplayHeight(r),origin:this.getNormalizedOrigin(r)})),i=e.reduce((r,n)=>Math.max(r,n.height),0),s=e.reduce((r,n)=>r+n.width,0)+this.gap*(e.length-1);let a=this.horizontalOrigin==="left"?0:this.horizontalOrigin==="center"?-s/2:-s;for(const{child:r,width:n,height:h,origin:c}of e){let u=0;this.align==="top"?u=-i/2+c.y*h:this.align==="bottom"?u=i/2-(1-c.y)*h:u=(c.y-.5)*h;const p=a+c.x*n;r.setPosition(p,u),a+=n+this.gap}this.setSize(s,i)}getDisplayWidth(t){return P(t)}getDisplayHeight(t){return O(t)}getNormalizedOrigin(t){return D(t)}}const Z=4,tt=.25,k=2,w=.95;class dt extends l.GameObjects.Container{backgroundGraphics;shadowGraphics;headerText;pw;textSizePx;marginPx;borderRadiusPx;backgroundColorValue;textColorValue;strokeColorValue;fontValue;textValue;constructor({scene:t,x:e,y:i,text:s,textSize:o,font:a,backgroundColor:r="blue-600",textColor:n="white",strokeColor:h,borderRadius:c="md",margin:u="4"}){super(t,e,i),this.pw=x(t),this.textValue=s,this.textSizePx=typeof o=="number"?o:this.pw.fontSize.px(o??"lg"),this.marginPx=typeof u=="number"?u:this.pw.spacing.px(u??"4"),this.borderRadiusPx=typeof c=="number"?c:this.pw.radius.px(c??"md"),this.backgroundColorValue=d.rgb(r),this.textColorValue=d.rgb(n),this.strokeColorValue=h?d.rgb(h):this.getDarkerColor(r),this.fontValue=typeof a=="string"?a:this.pw.font.family(a??"display"),this.createHeaderText(t),this.createShadowGraphics(t),this.createBackgroundGraphics(t),this.setupContainer(),this.setupInteractivity()}setText(t){return this.textValue=t,this.headerText.setText(t),this.regenerateGraphics(),this}setTextSize(t){return this.textSizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"lg"),this.headerText.setFontSize(this.textSizePx),this.regenerateGraphics(),this}setFont(t){return this.fontValue=typeof t=="string"?t:this.pw.font.family(t??"display"),this.headerText.setFontFamily(this.fontValue),this.regenerateGraphics(),this}setBackgroundColor(t){return this.backgroundColorValue=d.rgb(t),this.strokeColorValue.startsWith("#")||(this.strokeColorValue=this.getDarkerColor(t),this.headerText.setStroke(this.strokeColorValue,k)),this.regenerateGraphics(),this}setTextColor(t){return this.textColorValue=d.rgb(t),this.headerText.setColor(this.textColorValue),this}setStrokeColor(t){return this.strokeColorValue=d.rgb(t),this.headerText.setStroke(this.strokeColorValue,k),this}setBorderRadius(t){return this.borderRadiusPx=typeof t=="number"?t:this.pw.radius.px(t??"md"),this.regenerateGraphics(),this}setMargin(t){return this.marginPx=typeof t=="number"?t:this.pw.spacing.px(t??"4"),this.regenerateGraphics(),this}createHeaderText(t){this.headerText=t.add.text(0,0,this.textValue,{fontSize:`${this.textSizePx}px`,fontFamily:this.fontValue,color:this.textColorValue,stroke:this.strokeColorValue,strokeThickness:k,fontStyle:"bold"}),this.headerText.setOrigin(.5,.5)}createShadowGraphics(t){this.shadowGraphics=t.add.graphics(),this.drawShadow()}createBackgroundGraphics(t){this.backgroundGraphics=t.add.graphics(),this.drawBackground()}regenerateGraphics(){this.headerText.setText(this.textValue),this.drawShadow(),this.drawBackground()}drawShadow(){const t=this.getHeaderDimensions(),{height:e,width:i}=t;this.shadowGraphics.clear();const s=Math.min(i/2,e/2),o=Math.min(this.borderRadiusPx,s),a=i*w,r=e*w,n=-a/2,h=Z-r/2+4,c=Math.min(a/2,r/2),u=Math.min(o*w,c);this.shadowGraphics.fillStyle(d.hex("black"),tt),this.shadowGraphics.fillRoundedRect(n,h,a,r,u)}drawBackground(){const{width:t,height:e}=this.getHeaderDimensions();this.backgroundGraphics.clear();const i=Math.min(t/2,e/2),s=Math.min(this.borderRadiusPx,i),o=-t/2,a=-e/2;this.backgroundGraphics.fillStyle(d.hex(this.backgroundColorValue),1),this.backgroundGraphics.fillRoundedRect(o,a,t,e,s);const r=.15;let n=t;this.borderRadiusPx>12&&(n=t*.7);const h=o+(t-n)/2,c=Math.max(2,e*r),u=Math.min(s,c/2);this.backgroundGraphics.fillStyle(d.hex("white"),r),this.backgroundGraphics.fillRoundedRect(h,a,n,c,u)}getHeaderDimensions(){const t=this.headerText.getBounds(),e=t.width+this.marginPx*2,i=t.height+this.marginPx*2;return{width:e,height:i}}setupContainer(){this.add([this.shadowGraphics,this.backgroundGraphics,this.headerText])}setupInteractivity(){this.setInteractive(),this.on("pointerdown",()=>{this.setScale(.95),this.on("pointerup",()=>{this.setScale(1)})})}getDarkerColor(t){const e=t;if(e.includes("-")){const[s,o]=e.split("-");if(s&&o){const a=parseInt(o),r=900,n=200;if(!isNaN(a)&&a<r){const h=Math.min(r,a+n);return d.rgb(`${s}-${h}`)}}}return["red","blue","green","yellow","purple","orange","pink","gray"].includes(e)?d.rgb(`${e}-800`):d.rgb("gray-800")}}const f={click:100,hover:150},A=1.05,et=2,_=4,it=.15;class gt extends l.GameObjects.Container{backgroundSprite;shadowSprite;buttonText;pw;textSizePx;marginPx;borderRadiusPx;backgroundColorValue;textColorValue;fontValue;textValue;constructor({scene:t,x:e,y:i,text:s,textSize:o,font:a,backgroundColor:r="blue",textColor:n="white",borderRadius:h="md",margin:c="4",onClick:u}){super(t,e,i),this.pw=x(t),this.textValue=s,this.textSizePx=typeof o=="number"?o:this.pw.fontSize.px(o??"md"),this.marginPx=typeof c=="number"?c:this.pw.spacing.px(c??"4"),this.borderRadiusPx=typeof h=="number"?h:this.pw.radius.px(h??"md"),this.backgroundColorValue=d.rgb(r),this.textColorValue=d.rgb(n),this.fontValue=typeof a=="string"?a:this.pw.font.family(a??"primary"),this.createButtonText(t),this.createShadowSprite(t),this.createBackgroundSprite(t),this.setupContainer(),this.setupInteractivity(u)}setText(t){return this.textValue=t,this.buttonText.setText(t),this.regenerateSprites(),this}setTextSize(t){return this.textSizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"md"),this.buttonText.setFontSize(this.textSizePx),this.regenerateSprites(),this}setFont(t){return this.fontValue=typeof t=="string"?t:this.pw.font.family(t??"primary"),this.buttonText.setFontFamily(this.fontValue),this.regenerateSprites(),this}setBackgroundColor(t){return this.backgroundColorValue=d.rgb(t),this.regenerateSprites(),this}setTextColor(t){return this.textColorValue=d.rgb(t),this.buttonText.setColor(this.textColorValue),this}setBorderRadius(t){return this.borderRadiusPx=typeof t=="number"?t:this.pw.radius.px(t??"md"),this.regenerateSprites(),this}setMargin(t){return this.marginPx=typeof t=="number"?t:this.pw.spacing.px(t??"4"),this.regenerateSprites(),this}createButtonText(t){this.buttonText=t.add.text(0,0,this.textValue,{fontSize:`${this.textSizePx}px`,fontFamily:this.fontValue,color:this.textColorValue}),this.buttonText.setOrigin(.5,.5)}createShadowSprite(t){const e=this.createShadowTexture(t);this.shadowSprite=t.add.sprite(0,_,e),this.shadowSprite.setOrigin(.5,.5)}createBackgroundSprite(t){const e=this.createBackgroundTexture(t);this.backgroundSprite=t.add.sprite(0,0,e),this.backgroundSprite.setOrigin(.5,.5)}regenerateSprites(){this.buttonText.setText(this.textValue);const t=this.createShadowTexture(this.scene),e=this.createBackgroundTexture(this.scene);this.shadowSprite.setTexture(t),this.backgroundSprite.setTexture(e)}getButtonDimensions(){const t=this.buttonText.getBounds(),e=t.width+this.marginPx*2,i=t.height+this.marginPx*2;return{width:e,height:i}}createShadowTexture(t){const{width:e,height:i}=this.getButtonDimensions(),s=`textButton_shadow_${this.backgroundColorValue}_${this.borderRadiusPx}_${e}_${i}`,o=8,a=e+o*2,r=i+o*2,n=t.add.graphics(),h=Math.min(e/2,i/2),c=Math.min(this.borderRadiusPx,h);return n.fillStyle(d.hex("black"),it),n.fillRoundedRect(o,o+_,e,i,c),n.generateTexture(s,a,r),n.destroy(),s}createBackgroundTexture(t){const{width:e,height:i}=this.getButtonDimensions(),s=`textButton_bg_${this.backgroundColorValue}_${this.borderRadiusPx}_${e}_${i}`,o=8,a=e+o*2,r=i+o*2,n=t.add.graphics(),h=Math.min(e/2,i/2),c=Math.min(this.borderRadiusPx,h);return n.fillStyle(d.hex(this.backgroundColorValue),1),n.fillRoundedRect(o,o,e,i,c),n.generateTexture(s,a,r),n.destroy(),s}setupContainer(){this.add([this.shadowSprite,this.backgroundSprite,this.buttonText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this,scaleX:A,scaleY:A,duration:f.hover,ease:"Back.easeOut"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this,scaleX:1,scaleY:1,duration:f.hover,ease:"Back.easeOut"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.buttonText],y:et,duration:f.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.buttonText],y:0,duration:f.click,ease:"Linear"}),t?.()})}}const pt="hudini";class lt extends l.Plugins.BasePlugin{phaserWindMappingKey=b;constructor(t){super(t)}init({theme:t,darkMode:e=!1,phaserWindMappingKey:i=b}){if(this.phaserWindMappingKey=i,!this.pluginManager.get(b)){const s=t??(e?W:v);this.pluginManager.install(b,M,!0,i,{theme:s,darkMode:e})}}get pw(){return this.pluginManager.get(this.phaserWindMappingKey)}}export{nt as C,at as F,pt as H,ht as I,ct as L,ut as R,dt as S,gt as T,lt as a,ot as b};
