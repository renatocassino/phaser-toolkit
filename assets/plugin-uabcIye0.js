import{p as x,C as l,e as y,f as _,h as A,d as V}from"./create-game-B21kOgm7.js";import{I as C}from"./webfontloader-C-GoOI0N.js";const P=8,T=d=>{const t=d;if(typeof t.displayWidth=="number")return t.displayWidth;if(typeof t.width=="number")return t.width;const e=t.getBounds?.();return e?e.width:0},f=d=>{const t=d;if(typeof t.displayHeight=="number")return t.displayHeight;if(typeof t.height=="number")return t.height;const e=t.getBounds?.();return e?e.height:0},I=d=>{const t=T(d),e=f(d),i=d;let s=typeof i.originX=="number"?i.originX:void 0,a=typeof i.originY=="number"?i.originY:void 0;return s===void 0&&typeof i.displayOriginX=="number"&&t>0&&(s=i.displayOriginX/t),a===void 0&&typeof i.displayOriginY=="number"&&e>0&&(a=i.displayOriginY/e),{x:s??.5,y:a??.5}};class W extends x.GameObjects.Container{gap;align;verticalOrigin;constructor({scene:t,x:e,y:i,gap:s=P,align:a="center",children:c=[],verticalOrigin:r="top"}){super(t,e,i),this.gap=s,this.align=a,this.verticalOrigin=r,c.length>0&&this.add(c),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(r=>({child:r,width:this.getDisplayWidth(r),height:this.getDisplayHeight(r),origin:this.getNormalizedOrigin(r)})),i=e.reduce((r,n)=>Math.max(r,n.width),0),s=e.reduce((r,n)=>r+n.height,0)+this.gap*(e.length-1);let c=this.verticalOrigin==="top"?0:this.verticalOrigin==="center"?-s/2:-s;for(const{child:r,width:n,height:o,origin:h}of e){let u=0;this.align==="left"?u=-i/2+h.x*n:this.align==="right"?u=i/2-(1-h.x)*n:u=(h.x-.5)*n;const g=c+h.y*o;r.setPosition(u,g),c+=o+this.gap}this.setSize(i,s)}getDisplayWidth(t){return T(t)}getDisplayHeight(t){return f(t)}getNormalizedOrigin(t){return I(t)}}const B=d=>d.pw,S={click:100,hover:150},k=2.2,p=1.1,E=4,z=.1,L=.9,H=.7,$=1.07,O=2,v=.9,Y=.7;class K extends x.GameObjects.Container{backgroundSprite;shadowSprite;iconText;pw;baseColor;sizePx;borderRadiusPx;constructor({scene:t,x:e,y:i,icon:s,size:a,color:c,onClick:r,borderRadius:n}){super(t,e,i),this.pw=B(t);const o=typeof a=="number"?a:this.pw.fontSize.px(a??"md"),h=c??"gray";this.sizePx=o,this.baseColor=h,this.borderRadiusPx=typeof n=="number"?n:this.pw.radius.px(n??"full"),this.createShadowSprite(t,o,h,this.borderRadiusPx),this.createBackgroundSprite(t,o,h,this.borderRadiusPx),this.createIconText(t,s,o,h),this.setupContainer(),this.setupInteractivity(r)}setBorderRadius(t){const e=typeof t=="number"?t:this.pw.radius.px(t);if(this.borderRadiusPx===e)return this;this.borderRadiusPx=e;const i=this.createShadowTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx),s=this.createBackgroundTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx);return this.shadowSprite.setTexture(i),this.backgroundSprite.setTexture(s),this}setButtonSize(t){this.sizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"md"),this.iconText.setFontSize(`${this.sizePx}px`);const e=this.createShadowTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx),i=this.createBackgroundTexture(this.scene,this.sizePx,this.baseColor,this.borderRadiusPx);return this.shadowSprite.setTexture(e),this.backgroundSprite.setTexture(i),this}createShadowSprite(t,e,i,s){const a=this.createShadowTexture(t,e,i,s);this.shadowSprite=t.add.sprite(1,E,a),this.shadowSprite.setOrigin(.5,.5)}createShadowTexture(t,e,i,s){const a=`iconButton_shadow_r${s}_${i}_${e}`,c=e*k,r=e*p,n=e*p,o=t.add.graphics(),h=e*2*p,u=e*2,g=Math.min(s,h/2),b=Math.min(s,u/2);return o.fillStyle(l.hex("black"),z),o.fillRoundedRect(r+1-h/2,n-h/2,h,h,g),o.fillStyle(l.hex(`${i}-900`),L),o.fillRoundedRect(r-u/2,n-O-u/2,u,u,b),o.generateTexture(a,c,c),o.destroy(),a}createBackgroundSprite(t,e,i,s){const a=this.createBackgroundTexture(t,e,i,s);this.backgroundSprite=t.add.sprite(1,0,a),this.backgroundSprite.setOrigin(.5,.5)}createBackgroundTexture(t,e,i,s){const a=`iconButton_r${s}_${i}_${e}`,c=e*k,r=e*p,n=e*p,o=t.add.graphics(),h=e*2,u=h*v,g=h*Y,b=Math.min(s,u/2),R=Math.min(s,g/2);return o.fillStyle(l.hex(`${i}-600`),1),o.fillRoundedRect(r-u/2,n-u/2,u,u,b),o.fillStyle(l.hex(`${i}-500`),H),o.fillRoundedRect(r-g/2,n-g/2,g,g,R),o.generateTexture(a,c,c),o.destroy(),a}createIconText(t,e,i,s){this.iconText=new C({scene:t,x:1,y:1,icon:e,size:i,style:{color:l.rgb("white"),strokeThickness:3,stroke:l.rgb(`${s}-900`)}}),this.iconText.setFontStyle("900"),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.shadowSprite,this.backgroundSprite,this.iconText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerover",()=>{this.scene.tweens.add({targets:this.iconText,scale:$,duration:S.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerout",()=>{this.scene.tweens.add({targets:this.iconText,scale:1,duration:S.hover,ease:"Linear"})}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:O,duration:S.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:0,duration:S.click,ease:"Linear"}),t?.()})}}const m={click:100},D=2,F=2.2,w=1.1;class X extends x.GameObjects.Container{backgroundSprite;iconText;pw;baseSizePx;borderRadiusPx;backgroundColorValue;iconColorValue;backgroundOpacityValue=1;iconOpacityValue=1;constructor({scene:t,x:e,y:i,icon:s,iconStyle:a="solid",size:c,backgroundColor:r="gray-600",iconColor:n="white",onClick:o,borderRadius:h="md",backgroundOpacity:u=1,iconOpacity:g=1}){super(t,e,i),this.pw=B(t),this.baseSizePx=typeof c=="number"?c:this.pw.fontSize.px(c??"md"),this.borderRadiusPx=typeof h=="number"?h:this.pw.radius.px(h??"md"),this.backgroundColorValue=l.rgb(r),this.iconColorValue=l.rgb(n),this.backgroundOpacityValue=u,this.iconOpacityValue=g,this.createBackgroundSprite(t),this.createIconText(t,s,a),this.setupContainer(),this.setupInteractivity(o)}setBackgroundColor(t){return this.backgroundColorValue=l.rgb(t),this.regenerateBackgroundTexture(),this}setIconColor(t){return this.iconColorValue=l.rgb(t),this.iconText.setColor(this.iconColorValue),this.iconText.setAlpha(this.iconOpacityValue),this}setBackgroundOpacity(t){return this.backgroundOpacityValue=Math.max(0,Math.min(1,t)),this.backgroundSprite.setAlpha(this.backgroundOpacityValue),this}setIconOpacity(t){return this.iconOpacityValue=Math.max(0,Math.min(1,t)),this.iconText.setAlpha(this.iconOpacityValue),this}setBorderRadius(t){const e=typeof t=="number"?t:this.pw.radius.px(t);return this.borderRadiusPx===e?this:(this.borderRadiusPx=e,this.regenerateBackgroundTexture(),this)}setIcon(t,e){return this.iconText.setIcon(t,e),this}setButtonSize(t){return this.baseSizePx=typeof t=="number"?t:this.pw.fontSize.px(t??"md"),this.iconText.setFontSize(`${this.baseSizePx}px`),this.regenerateBackgroundTexture(),this}createBackgroundSprite(t){const e=this.createBackgroundTexture(t);this.backgroundSprite=t.add.sprite(0,0,e),this.backgroundSprite.setOrigin(.5,.5),this.backgroundSprite.setAlpha(this.backgroundOpacityValue)}regenerateBackgroundTexture(){const t=this.createBackgroundTexture(this.scene);this.backgroundSprite.setTexture(t),this.backgroundSprite.setAlpha(this.backgroundOpacityValue)}createBackgroundTexture(t){const e=this.baseSizePx,i=`flatIconButton_${this.backgroundColorValue}_${this.borderRadiusPx}_${e}`,s=e*F,a=e*w,c=e*w,r=t.add.graphics();r.fillStyle(l.hex(this.backgroundColorValue),1);const n=e*2,o=Math.min(this.borderRadiusPx,n/2);return r.fillRoundedRect(a-n/2,c-n/2,n,n,o),r.generateTexture(i,s,s),r.destroy(),i}createIconText(t,e,i){this.iconText=new C({scene:t,x:0,y:0,icon:e,size:this.baseSizePx,style:{color:this.iconColorValue,strokeThickness:0},iconStyle:i}),this.iconText.setAlpha(this.iconOpacityValue),this.iconText.setOrigin(.5,.5)}setupContainer(){this.add([this.backgroundSprite,this.iconText])}setupInteractivity(t){this.backgroundSprite.setInteractive({useHandCursor:!0}),this.backgroundSprite.on("pointerdown",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:D,duration:m.click,ease:"Linear"})}),this.backgroundSprite.on("pointerup",()=>{this.scene.tweens.add({targets:[this.backgroundSprite,this.iconText],y:0,duration:m.click,ease:"Linear"}),t?.()})}}class G extends x.GameObjects.Container{gap;align;horizontalOrigin;constructor({scene:t,x:e,y:i,gap:s=P,align:a="center",children:c=[],horizontalOrigin:r="center"}){super(t,e,i),this.gap=s,this.align=a,this.horizontalOrigin=r,c.length>0&&this.add(c),this.layout()}setGap(t){this.gap=t,this.layout()}setAlign(t){this.align=t,this.layout()}addChild(t,e=!0){return this.add(t),e&&this.layout(),this}addChildren(t,e=!0){return t.length>0&&this.add(t),e&&this.layout(),this}layout(){const t=this.list;if(t.length===0){this.setSize(0,0);return}const e=t.map(r=>({child:r,width:this.getDisplayWidth(r),height:this.getDisplayHeight(r),origin:this.getNormalizedOrigin(r)})),i=e.reduce((r,n)=>Math.max(r,n.height),0),s=e.reduce((r,n)=>r+n.width,0)+this.gap*(e.length-1);let c=this.horizontalOrigin==="left"?0:this.horizontalOrigin==="center"?-s/2:-s;for(const{child:r,width:n,height:o,origin:h}of e){let u=0;this.align==="top"?u=-i/2+h.y*o:this.align==="bottom"?u=i/2-(1-h.y)*o:u=(h.y-.5)*o;const g=c+h.x*n;r.setPosition(g,u),c+=n+this.gap}this.setSize(s,i)}getDisplayWidth(t){return T(t)}getDisplayHeight(t){return f(t)}getNormalizedOrigin(t){return I(t)}}const j="hudini";class U extends x.Plugins.BasePlugin{phaserWindMappingKey=y;constructor(t){super(t)}init({theme:t,darkMode:e=!1,phaserWindMappingKey:i=y}){if(this.phaserWindMappingKey=i,!this.pluginManager.get(y)){const s=t??(e?A:V);this.pluginManager.install(y,_,!0,i,{theme:s,darkMode:e})}}get pw(){return this.pluginManager.get(this.phaserWindMappingKey)}}export{W as C,X as F,j as H,K as I,G as R,U as a};
