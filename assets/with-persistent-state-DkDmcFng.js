import{w as i}from"./with-global-state-13VBhLLU.js";const h=(n,e,c,g,a="local")=>{const o=`phaser-hooks-state:${e}`;let s=c;try{const t=a==="local"?localStorage.getItem(o):sessionStorage.getItem(o);t&&(s=JSON.parse(t))}catch(t){console.warn(`[withPersistentState] Failed to load stored state for "${e}":`,t)}const r=i(n,e,s);return r.onChange(t=>{try{(a==="local"?localStorage:sessionStorage).setItem(o,JSON.stringify(t))}catch(l){console.warn(`[withPersistentState] Failed to save state for "${e}":`,l)}}),r};export{h as w};
