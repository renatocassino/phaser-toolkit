---
import Layout from '../../layouts/Layout.astro';
import PhaserGame from '../../components/PhaserGame.astro';
---

<Layout title="Hudini SizedBox Component" description="A simple invisible rectangle component for spacing and layout purposes, perfect for creating custom spacing in Row and Column layouts.">
  <div class="space-y-8">
    <!-- Description -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">SizedBox Component</h2>
      <p class="text-gray-600 mb-4">
        A simple invisible rectangle component for spacing and layout purposes. It occupies space without any visual appearance, perfect for creating custom spacing in Row and Column layouts.
      </p>
      
      <!-- Features -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-3">Features</h3>
        <ul class="list-disc list-inside space-y-1 text-gray-600">
          <li>üìè <strong>Invisible Spacing</strong>: Creates space without visual appearance</li>
          <li>üéØ <strong>Layout Control</strong>: Perfect for custom spacing in Row and Column layouts</li>
          <li>‚ö° <strong>Lightweight</strong>: Extends Phaser Rectangle for native width/height support</li>
          <li>üîß <strong>Flexible</strong>: Can be used for horizontal, vertical, or both dimensions</li>
          <li>üìê <strong>Precise Control</strong>: Set exact spacing when gap isn't sufficient</li>
          <li>üîÑ <strong>Dynamic Updates</strong>: Change size dynamically with setWidth, setHeight, or setSize</li>
        </ul>
      </div>

      <!-- Props -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-3">Props</h3>
        <div class="bg-gray-50 rounded-lg p-4">
          <ul class="space-y-2 text-sm">
            <li><code class="bg-gray-200 px-2 py-1 rounded">scene</code> - Phaser scene where the SizedBox will be added</li>
            <li><code class="bg-gray-200 px-2 py-1 rounded">x</code> - X position of the SizedBox</li>
            <li><code class="bg-gray-200 px-2 py-1 rounded">y</code> - Y position of the SizedBox</li>
            <li><code class="bg-gray-200 px-2 py-1 rounded">width</code> - Width in pixels (for horizontal spacing) - default: 1px</li>
            <li><code class="bg-gray-200 px-2 py-1 rounded">height</code> - Height in pixels (for vertical spacing) - default: 1px</li>
          </ul>
          <p class="text-xs text-gray-500 mt-3">
            <strong>Note:</strong> At least width or height must be specified. Both default to 1px if not provided.
          </p>
        </div>
      </div>

      <!-- Methods -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-3">Methods</h3>
        <div class="bg-gray-50 rounded-lg p-4">
          <ul class="space-y-2 text-sm">
            <li><code class="bg-gray-200 px-2 py-1 rounded">setWidth(width)</code> - Set the width of the SizedBox</li>
            <li><code class="bg-gray-200 px-2 py-1 rounded">setHeight(height)</code> - Set the height of the SizedBox</li>
            <li><code class="bg-gray-200 px-2 py-1 rounded">setSize(width, height)</code> - Set both width and height</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Live Example -->
    <PhaserGame width={800} height={750} />

    <!-- Usage Example -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
      <h3 class="text-lg font-semibold text-gray-900 mb-3">Usage Example</h3>
      <div class="bg-gray-900 rounded-lg p-4 overflow-x-auto">
        <pre class="text-sm text-gray-100"><code>{`import Phaser from 'phaser';
import {
    createTheme,
    HUDINI_KEY,
    HudiniPlugin,
    SceneWithHudini,
    SizedBox,
    Column,
    Row,
    TextButton
} from 'hudini';

const theme = createTheme({});
type Theme = typeof theme;

class LayoutDemoScene extends SceneWithHudini<Theme> {
    constructor() {
        super('layout-demo');
    }

    create(): void {
        const { pw } = this.hudini;
        this.cameras.main.setBackgroundColor(pw.color.slate(900));

        // Create buttons
        const button1 = new TextButton({
            scene: this,
            x: 0,
            y: 0,
            text: 'Button 1',
            backgroundColor: 'blue-500',
            textColor: 'white',
        });

        const button2 = new TextButton({
            scene: this,
            x: 0,
            y: 0,
            text: 'Button 2',
            backgroundColor: 'green-500',
            textColor: 'white',
        });

        // Use SizedBox for custom spacing in Column
        const column = new Column({
            scene: this,
            x: this.cameras.main.centerX,
            y: this.cameras.main.centerY,
            gap: 8,
            children: [
                button1,
                new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 30 }),
                button2,
            ]
        });
        this.add.existing(column);
    }
}`}</code></pre>
      </div>
    </div>

    <!-- Advanced Examples -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
      <h3 class="text-lg font-semibold text-gray-900 mb-3">Advanced Examples</h3>
      
      <div class="space-y-4">
        <div>
          <h4 class="font-medium text-gray-900 mb-2">Vertical Spacing in Column</h4>
          <div class="bg-gray-900 rounded-lg p-4 overflow-x-auto">
            <pre class="text-sm text-gray-100"><code>{`const column = new Column({
    scene: this,
    x: 400,
    y: 300,
    gap: 8,
    children: [
        button1,
        new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 40 }),
        button2,
        new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 20 }),
        button3,
    ]
});`}</code></pre>
          </div>
        </div>

        <div>
          <h4 class="font-medium text-gray-900 mb-2">Horizontal Spacing in Row</h4>
          <div class="bg-gray-900 rounded-lg p-4 overflow-x-auto">
            <pre class="text-sm text-gray-100"><code>{`const row = new Row({
    scene: this,
    x: 400,
    y: 100,
    gap: 8,
    children: [
        icon1,
        new SizedBox({ scene: this, x: 0, y: 0, width: 50, height: 0 }),
        icon2,
        new SizedBox({ scene: this, x: 0, y: 0, width: 30, height: 0 }),
        icon3,
    ]
});`}</code></pre>
          </div>
        </div>

        <div>
          <h4 class="font-medium text-gray-900 mb-2">Dynamic Updates</h4>
          <div class="bg-gray-900 rounded-lg p-4 overflow-x-auto">
            <pre class="text-sm text-gray-100"><code>{`const spacer = new SizedBox({
    scene: this,
    x: 0,
    y: 0,
    width: 20,
    height: 20,
});

// Update dimensions dynamically
spacer.setWidth(50);
spacer.setHeight(30);
// Or update both at once
spacer.setSize(100, 50);`}</code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<script>
  import Phaser from 'phaser';
  import {
    createTheme,
    HUDINI_KEY,
    HudiniPlugin,
    SceneWithHudini,
    SizedBox,
    Column,
    Row,
    TextButton,
    IconButton,
  } from 'hudini';
import { loadFont } from 'font-awesome-for-phaser';

  // Create theme
  const theme = createTheme({});
  type Theme = typeof theme;

  class SizedBoxDemoScene extends SceneWithHudini<Theme> {
    constructor() {
      super('sized-box-demo');
    }

    create(): void {
      const { pw } = this.hudini;
      this.cameras.main.setBackgroundColor(pw.color.slate(900));

      // Title
      this.add.text(this.cameras.main.centerX, 40, 'SizedBox Examples', {
        color: pw.color.slate(200),
        align: 'center',
        fontSize: '32px',
        fontStyle: 'bold',
      }).setOrigin(0.5, 0.5);

      // Example 1: Column with SizedBox for vertical spacing
      const button1 = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Button 1',
        backgroundColor: 'blue-500',
        textColor: 'white',
        borderRadius: 'md',
        margin: '4',
      });

      const button2 = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Button 2',
        backgroundColor: 'green-500',
        textColor: 'white',
        borderRadius: 'md',
        margin: '4',
      });

      const button3 = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Button 3',
        backgroundColor: 'purple-500',
        textColor: 'white',
        borderRadius: 'md',
        margin: '4',
      });

      const column1 = new Column({
        scene: this,
        x: 200,
        y: 150,
        gap: 8,
        children: [
          button1,
          new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 30 }),
          button2,
          new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 20 }),
          button3,
        ]
      });
      this.add.existing(column1);

      // Label for column example
      this.add.text(200, 250, 'Column with SizedBox', {
        color: pw.color.slate(400),
        align: 'center',
        fontSize: '14px',
      }).setOrigin(0.5, 0.5);

      // Example 2: Row with SizedBox for horizontal spacing
      const icon1 = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'heart',
        size: 'base',
        color: 'red',
      });

      const icon2 = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'star',
        size: 'base',
        color: 'yellow',
      });

      const icon3 = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'play',
        size: 'base',
        color: 'green',
      });

      const row1 = new Row({
        scene: this,
        x: 600,
        y: 150,
        gap: 8,
        children: [
          icon1,
          new SizedBox({ scene: this, x: 0, y: 0, width: 40, height: 0 }),
          icon2,
          new SizedBox({ scene: this, x: 0, y: 0, width: 30, height: 0 }),
          icon3,
        ]
      });
      this.add.existing(row1);

      // Label for row example
      this.add.text(600, 250, 'Row with SizedBox', {
        color: pw.color.slate(400),
        align: 'center',
        fontSize: '14px',
      }).setOrigin(0.5, 0.5);

      // Example 3: Column with different spacing sizes
      const btn1 = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Small',
        backgroundColor: 'blue-600',
        textColor: 'white',
        borderRadius: 'md',
        margin: '3',
      });

      const btn2 = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Medium',
        backgroundColor: 'green-600',
        textColor: 'white',
        borderRadius: 'md',
        margin: '3',
      });

      const btn3 = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Large',
        backgroundColor: 'purple-600',
        textColor: 'white',
        borderRadius: 'md',
        margin: '3',
      });

      const column2 = new Column({
        scene: this,
        x: 200,
        y: 400,
        gap: 8,
        children: [
          btn1,
          new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 10 }),
          btn2,
          new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 30 }),
          btn3,
          new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 50 }),
        ]
      });
      this.add.existing(column2);

      // Label for spacing sizes example
      this.add.text(200, 500, 'Different Spacing Sizes', {
        color: pw.color.slate(400),
        align: 'center',
        fontSize: '14px',
      }).setOrigin(0.5, 0.5);

      // Example 4: Row with different horizontal spacing
      const iconA = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'circle',
        size: 'sm',
        color: 'blue',
      });

      const iconB = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'square',
        size: 'sm',
        color: 'green',
      });

      const iconC = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'diamond',
        size: 'sm',
        color: 'purple',
      });

      const row2 = new Row({
        scene: this,
        x: 600,
        y: 400,
        gap: 8,
        children: [
          iconA,
          new SizedBox({ scene: this, x: 0, y: 0, width: 20, height: 0 }),
          iconB,
          new SizedBox({ scene: this, x: 0, y: 0, width: 40, height: 0 }),
          iconC,
          new SizedBox({ scene: this, x: 0, y: 0, width: 60, height: 0 }),
        ]
      });
      this.add.existing(row2);

      // Label for horizontal spacing example
      this.add.text(600, 500, 'Different Horizontal Spacing', {
        color: pw.color.slate(400),
        align: 'center',
        fontSize: '14px',
      }).setOrigin(0.5, 0.5);

      // Example 5: Mixed layout with SizedBox
      const topButton = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Top',
        backgroundColor: 'red-600',
        textColor: 'white',
        borderRadius: 'md',
        margin: '3',
      });

      const leftIcon = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'arrow-left',
        size: 'base',
        color: 'blue',
      });

      const rightIcon = new IconButton({
        scene: this,
        x: 0,
        y: 0,
        icon: 'arrow-right',
        size: 'base',
        color: 'blue',
      });

      const middleRow = new Row({
        scene: this,
        x: 0,
        y: 0,
        gap: 8,
        children: [
          leftIcon,
          new SizedBox({ scene: this, x: 0, y: 0, width: 50, height: 0 }),
          rightIcon,
        ]
      });

      const bottomButton = new TextButton({
        scene: this,
        x: 0,
        y: 0,
        text: 'Bottom',
        backgroundColor: 'green-600',
        textColor: 'white',
        borderRadius: 'md',
        margin: '3',
      });

      const mixedColumn = new Column({
        scene: this,
        x: 400,
        y: 600,
        gap: 8,
        children: [
          topButton,
          new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 20 }),
          middleRow,
          new SizedBox({ scene: this, x: 0, y: 0, width: 0, height: 20 }),
          bottomButton,
        ]
      });
      this.add.existing(mixedColumn);

      // Label for mixed layout example
      this.add.text(400, 680, 'Mixed Layout with SizedBox', {
        color: pw.color.slate(400),
        align: 'center',
        fontSize: '14px',
      }).setOrigin(0.5, 0.5);

      // Instructions
      this.add.text(this.cameras.main.centerX, 720, 'SizedBox creates invisible spacing in layouts', {
        color: pw.color.slate(400),
        align: 'center',
        fontSize: '14px',
      }).setOrigin(0.5, 0.5);
    }
  }

  // Initialize the game when the page loads
  document.addEventListener('DOMContentLoaded', () => {
    const gameConfig = (window as any).gameContainer;
    loadFont().then(() => {
      if (gameConfig) {
        const game = new Phaser.Game({
          ...gameConfig,
          scene: [SizedBoxDemoScene],
          plugins: {
            global: [
              {
                key: HUDINI_KEY,
                plugin: HudiniPlugin,
                mapping: HUDINI_KEY,
                data: {
                  theme,
                },
              },
            ],
          },
        });
        
        // Store the game instance
        if (!(window as any).__phaserGames) {
          (window as any).__phaserGames = {};
        }
        (window as any).__phaserGames['hudini-sized-box-demo'] = game;
      }
    });
  });
</script>
